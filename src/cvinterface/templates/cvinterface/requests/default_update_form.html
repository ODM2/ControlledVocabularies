{% extends 'cvinterface/base.html' %}
{% load widget_tweaks %}
{% load tools %}

{% block body %}
    <section class="request-update">
        <header>
            <h2>
                {{ vocabulary_request.term }}
                {% if vocabulary_request.request_for %}
                    (<a href="{% detail_url vocabulary_request.request_for %}">{{ vocabulary_request.status }}</a>)
                {% else %}
                    ({{ vocabulary_request.status }})
                {% endif %}
                <span class="vocabulary-type">{{ request_verbose_name }}</span>
                <span class="parent-link">
                    <a href="{{ list_url }}" class="tooltip" data-tip="Navigate to the {{ request_verbose_name }}s list.">â¤´</a>
                </span>
            </h2>
            <h4 class="request-info-box">
                <span class="request-info">Requested on {{ vocabulary_request.date_submitted }} by {{ vocabulary_request.submitter_name }}
                    &lt;<a href="mailto:{{ vocabulary_request.submitter_email }}">{{ vocabulary_request.submitter_email }}</a>&gt;
                </span>
                <span class="request-info">{{ vocabulary_request.status }} since {{ vocabulary_request.date_status_changed }}</span>
                {% if vocabulary_request.original_request_id %}
                    <span class="request-info">
                        <a href="{% update_url vocabulary_request.original_request %}">Original Request</a>
                    </span>
                {% endif %}
            </h4>
        </header>

        <form class="column three-columns data-view" action="" method="post">{% csrf_token %}
            {% for field in form %}

                <div class="list-item column three-columns {% if field.field.required %}required{% endif %}">
                    <div class="form-label-item"><h3><label for="{{ field.id_for_label }}">{{ field.label }}</label></h3></div>
                    <div class="form-input-item">
                        {% if all_disabled %}
                            {{ field.value|default:"-" }}
                        {% else %}
                            {{ field|add_class:"form-input" }}
                        {% endif %}
                    </div> {% if field.field.required %} <span class="required-symbol">*</span> {% endif %}
                    <div class="form-errors-item">{{ field.errors }}</div>
                </div>
            {% endfor %}

            <div class="clear"></div>
            <div class="form-buttons">
                {% if vocabulary_request.status == 'Pending' %}
                    <input name="request_accept" class="button white" type="submit" value="Accept Request" />
                    <input name="request_reject" class="button white" type="submit" value="Reject Request" />
                {% endif %}
            </div>
        </form>
        <div class="clear"></div>
    </section>
{% endblock %}